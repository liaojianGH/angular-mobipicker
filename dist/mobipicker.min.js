/*! Angular Directive for mobiscroll picker - v0.0.0 - 2014-09-23
* Copyright (c) 2014 I Made Agus Setiawan; Licensed , , , , , , , , , ,  */
angular.module("hari.ui",[]).directive("mobiPicker",["$parse","$timeout",function(a,b){var c=new RegExp(/(1[012]|[1-9]):[0-5][0-9](\s)?(am|pm)/i),d={restrict:"A",link:function(c,d,e){var f={preset:"date",theme:"default",mode:"scroller",display:"modal",animate:"none",customTime:!1,onSelect:function(){},onClose:function(f,g,h){var i=a(e.mobiPicker),j=i.assign;b(function(){switch(g){case"set":c.$apply(function(){if(h.settings.customTime&&["time"].indexOf(h.settings.preset)>=0){var a=d.mobiscroll("getValue"),b=("0"+a[0]).substr(-2)+":";b+=("0"+a[1]).substr(-2)+" ",b+=""+a[2]=="0"?"AM":"PM",j(c,b)}else["date","time"].indexOf(h.settings.preset)>=0?j(c,angular.copy(d.mobiscroll("getDate"))):["select"].indexOf(h.settings.preset)>=0&&j(c,angular.copy(d.mobiscroll("getValue")))});break;case"clear":c.$apply(function(){j(c,null)})}},0,!1)}},g=e.mobiPickerOptions||"{}",h=c.$eval(g);angular.extend(f,h),d.scroller(f)},controller:["$scope","$element","$attrs",function(d,e,f){d.$watch(function(){var b=a(f.mobiPicker);return b(d)},function(a){var d=e.mobiscroll("getInst");b(function(){a instanceof Date&&["date","time"].indexOf(d.settings.preset)>=0?e.mobiscroll("setDate",a,!0):d.settings.customTime&&["time"].indexOf(d.settings.preset)>=0&&c.test(a)?e.mobiscroll("setValue",a,!0):["select"].indexOf(d.settings.preset)>=0&&e.mobiscroll("setValue",[a],!0)},0,!1)},!0)}]};return d}]);